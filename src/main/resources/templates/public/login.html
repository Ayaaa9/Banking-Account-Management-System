<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="'Connexion – ' + ${appName}">Connexion – Bankati</title>

  <!-- Liens CSS corrigés -->
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <link rel="stylesheet" th:href="@{/css/bootstrap-icons.css}">

  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: url('img/background.jpg') center center / cover no-repeat;
    }

    .login-card {
      background-color: rgba(255, 255, 255, 0.95);
      padding: 40px 30px;
      border-radius: 20px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 400px;
    }

    .login-card img {
      max-height: 60px;
      margin-bottom: 15px;
    }

    .login-card h3 {
      color: #0d6efd;
      font-weight: 600;
      margin-bottom: 30px;
    }

    .form-control {
      background-color: #f0f4ff;
      border: 1px solid #cbd5e1;
      border-radius: 10px;
    }

    .form-control:focus {
      box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.25);
    }

    .btn-login {
      font-weight: bold;
      border-radius: 10px;
    }

    .text-danger {
      font-size: 0.85rem;
    }

    .alert-danger {
      font-size: 0.9rem;
      padding: 0.5rem;
    }
  </style>
</head>

<body>

<div class="login-card text-center">
  <!-- Logo corrigé -->
  <img th:src="@{/img/card.png}" alt="Logo">
  <h3 th:text="${appName}">Bankati</h3>

  <!-- Formulaire -->
  <form th:action="@{/login}" method="post">
    <!-- Champ login -->
    <div class="mb-3 text-start">
      <label class="form-label fw-semibold">Nom d'utilisateur</label>
      <div class="input-group">
        <span class="input-group-text bg-light"><i class="bi bi-person-fill"></i></span>
        <input type="text" name="lg" class="form-control" placeholder="Entrez votre nom d'utilisateur" required>
      </div>
      <div th:if="${usernameError}" class="text-danger mt-1" th:text="${usernameError}"></div>
    </div>

    <!-- Champ mot de passe -->
    <div class="mb-3 text-start">
      <label class="form-label fw-semibold">Mot de passe</label>
      <div class="input-group">
        <span class="input-group-text bg-light"><i class="bi bi-lock-fill"></i></span>
        <input type="password" name="pss" class="form-control" placeholder="Entrez votre mot de passe" required>
      </div>
      <div th:if="${passwordError}" class="text-danger mt-1" th:text="${passwordError}"></div>
    </div>

    <!-- Message global -->
    <div th:if="${globalMessage}" class="alert alert-danger text-center mt-3" th:text="${globalMessage}"></div>

    <!-- Bouton -->
    <button type="submit" class="btn btn-primary btn-login w-100 mt-4">
      <i class="bi bi-box-arrow-in-right me-1"></i> Se Connecter
    </button>
  </form>
</div>

</body>
</html>
